# Требования

Разработка бекенда для магазина гитар. Пока они хотят продавать только гитары, но могут добавить товары в будущем. Требования следующие 

- Гость может:
  - зарегистрироваться в системе с уникальным юзернеймом и паролем;
  - логиниться в систему;
  - смотреть все товары или отсортированные по бренду;

- Зарегистрированный юзер может:
  - добавлять и удалять продукты из тележки;
  - модифицировать количество продуктов в тележке;
  - делать расчёт тележки, что включает:
    - отправку ID и тележки во внешнюю платёжную систему;
    - сохранение деталей заказа в ID оплаты.
  - смотреть список заказов и выбирать какой-то один;
  - выходить из системы.

- Админ может:
  - добавлять бренды, категории, продукты;
  - модифицировать цены продуктов.

- Фронтенд должен получать данные по HTTP API.

Для начала админ будет единственным и создаваться вручную.

# API Платежей

Внешняя система имеет HTTP API. Система идемпотентна - если один и тот же платёж выполнен дважды, система не будет повторять его, а просто вернёт результат. Коды возврата:

- 200 - удачный платёж;
- 400 - невалидный реквест;
- 409 - дубликат платежа (вернёт Payment Id);
- 500 - неизвестная ошибка.

# Определения

Можно представить гитары как обобщённые `Item`, ведь магазин хочет продавать что-то ещё в будущем.

Item:
- uuid - уникальный ID;
- model - модель предмета;
- brand - связь с Brand;
- category - связь с Category;
- description - информация;
- price - цена. Указываем в долларах с двумя символами после запятой.

Brand:
- name - уникальное имя.

Category:
- name - уникальное имя.

Cart:
- uuid - уникальный идентификатор;
- items - мапа (ключ-значение) Item uuid и количества.

Order:
- uuid - уникальный идентификатор;
- paymentId - уникальный идентификатор, присланный внешним API;
- items - мапа вещей и количества;
- total - стоимость.

Card:
- name - имя пользователя;
- number - 16-символьный номер карты;
- expiration - 4-символьный номер в виде строки (чтобы не терять нули, например "0421");
- cvv - 3-символьный CVV - Card Verification Value.

Guest User - о них нет информации, поэтому для них нет модели. 

User:
- uuid;
- username;
- password.

Admin User - юзер с дополнительными правами. Пока создаётся вручную, поэтому не имеет пароля:
- uuid;
- username.


