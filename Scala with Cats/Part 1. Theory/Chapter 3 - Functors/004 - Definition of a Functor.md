# Определение функтора

**Функтор** - класс, инкапсулирующий создание последовательностей вычислений (*functor is a class that encapsulates sequencing computations*). Формально, функтор - это тип `F[A]` с операцей `map` типа `(A => B) => F[B]`. Важно заметить, что контекст `F` сохраняется после выполнения функции.

Проще говоря - функтор это *"любые штуки, для которых можно сделать метод map"*.

> *Математический функтор — особый тип отображений между категориями. Его можно понимать как отображение, сохраняющее структуру.*

В cats Функтор - это тайпкласс `cats.Functor`. Его метод `map` принимает `F[A]` как параметр так же, как и саму функцию. Упрощенное определение:

```scala
import scala.language.higherKinds
trait Functor[F[_]] {
  def map[A, B](fa: F[A])(f: A => B): F[B]
}
```

Конструкция `F[_]` будет рассмотрена далее...

## Законы функторов

Функторы гарантируют одинаковую семантику как если мы последовательно выполним много маленьких операций друг за дргуом, так и если мы скомбинируем их в одну большую функцию перед маппингом. Для этого применются законы:

- Identity (нейтральность) - вызов `map` с нейтральной функцией то же самое, что ничего не вызывать: `fa.map(a => a) == fa`;
- Composition (композиция) - маппинг с двумя функциями `f` и `g` - это то же самое что маппинг сначала по `f` и затем по `g`: `fa.map(g(f(_))) == fa.map(f).map(g)`.
