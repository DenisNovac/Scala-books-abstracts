# Определение Монады

Поведение монады заключено в двух операциях:

- `pure` типа `A => F[A]`;
- `flatMap` типа `(F[A], A => F[B]) => F[B]`.

`pure` - это абстракция над конструкторами для создания монадного контекста из простого значения. 

`flatMap` предоставляет шаг последовательности, генерирующий следующий контекст последовательности.

Упрощённое определение монады в Cats:

```scala
trait Monad[F[_]] {
  def pure[A](value: A): F[A]

  def flatMap[A, B](value: F[A])(func: A => F[B]): F[B]
}
```

## Законы монад

Для создания последовательностей операций `pure` и `flatMap` должны подчиняться набору законов, исключающих побочные эффекты:

- **Left identity**: вызов `pure` и трансформация результата через `func` это то же самое, что вызов `func`:

```scala
pure(a).flatMap(func) == func(a)
```

- **Right identity**: передача `pure` во `flatMap` - то же, что ничего не делать:

```scala
m.flatMap(pure) == m
```

- **Ассоциативность**: flatMapping через две функции - это то же, что `flatMap` через первую и потом через вторую:

```scala
m.flatMap(f).flatMap(g) == m.flatMap(x => f(x).flatMap(g))
```

