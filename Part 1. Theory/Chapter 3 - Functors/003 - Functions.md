# Функции

Функции от одного аргумента - это тоже функторы. Чтобы понять это - нужно немного поработать с типами. Функция A => B имеет два типа - тип параметра A и тип результата B. Чтобы привести их в правильную форму мы можем починить тип параметра и позволить типу результата быть различным:

- Начать с X => A;
- Передать функцию A => B;
- Вернуть X => B.

Если представить `X => A` как альяс `Func[A]`, то мы увидем паттерн `map`:

- Начать с Func[A];
- Передать функцию A => B;
- Вернуть Func[B].

Мы как бы остаёмся в контексте функции. 

Другими словами, "маппинг" по функции - это композиция функций:

```scala
import cats.instances.function._
import cats.syntax.functor._

val func1: Int => Double =
  (x: Int) => x.toDouble

val func2: Double => Double =
  (y: Double) => y * 2

(func1 map func2)(1)  // копмозиция через map, работает только с синтаксисом Functor-а

(func1 andThen func2)(1)  // композиция через andThen (стандартная либа Scala)

func2(func1(1))  // композиция вручную
```

Композиция функций - это ведь последовательность вычислений. А последовательные вычисления - это то, что делает `map`. Мы начинаем с функции, которая делает одну операцию и каждый следующий `map` добавляет новую операцию в цепочку. Вызов `map` сам по себе не вызывает операции, но мы передаём в него функцию. 